@model MvcApplication1.Areas.Payment.Models.AuthenticateInfoViewModel
@{
    ViewBag.Title = "AuthenticateInfo";
    Layout = "~/Views/Shared/BlankLayout.cshtml";
}

<form name="frmLaunchACS" method="Post" action="@Model.CentinelAcsurl">
    <br>

    <br>
    <div style="text-align: center; margin: 20px;">

        <h1>Please wait...while redirecting to payment gateway</h1>

        <input type=hidden name="PaReq" value="@Model.CentinelPayload"/>
        <input type=hidden name="TermUrl" value="@Model.CentinelTermUrl"/>
        <input type="hidden" name="MD" value="@Model.CentinelTransactionId"/>
        @*<input id="submit-form" type="submit" />*@

    </div>

</form>

<script type="text/javascript">
    window.onload = function () {
        var auto = setTimeout(function () { autoRefresh(); }, 4000);

        function submitform() {
            document.forms["frmLaunchACS"].submit();

        }

        function autoRefresh() {
            clearTimeout(auto);
            auto = setTimeout(function () {
                submitform();
                autoRefresh();
            }, 4000);
        }


    }

</script>
